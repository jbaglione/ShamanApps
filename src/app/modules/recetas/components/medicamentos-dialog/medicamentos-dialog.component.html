<h1 mat-dialog-title>Medicamentos</h1>

<mat-horizontal-stepper [linear]="true" #stepper>
    <mat-step>
        <div mat-dialog-content style="border-top: 1px solid #dadce0;">
            <br />
            <h3>El medicamento {{data.medicamentos[0]?.nombre}} ya existe:</h3>
            <table mat-table [dataSource]="mtMedicamentos" #table class="mat-elevation-z4">
                <ng-container matColumnDef="abreviaturaId">
                    <th mat-header-cell *matHeaderCellDef>Abreviatura</th>
                    <td mat-cell *matCellDef="let element">{{element.abreviaturaId}}</td>
                </ng-container>
                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">{{element.nombre}}</td>
                </ng-container>
                <ng-container matColumnDef="droga">
                    <th mat-header-cell *matHeaderCellDef>Droga</th>
                    <td mat-cell *matCellDef="let element">{{element.droga}}</td>
                </ng-container>
                <ng-container matColumnDef="presentacion">
                    <th mat-header-cell *matHeaderCellDef>Presentaci√≥n</th>
                    <td mat-cell *matCellDef="let element">{{element.presentacion}}</td>
                </ng-container>
                <ng-container matColumnDef="observaciones">
                    <th mat-header-cell *matHeaderCellDef>Observaciones</th>
                    <td mat-cell *matCellDef="let element">{{element.observaciones}}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="dcMedicamentos"></tr>
                <tr mat-row *matRowDef="let row; columns: dcMedicamentos;" (click)="selMedicamento(row)" [style.background]="highlightedRows.indexOf(row) != -1 ? 'lightblue' : ''" (mouseover)="onMouseOver(row)" [ngClass]="{'mat-elevation-z3' : row.id == rowid}"></tr>
            </table>
            <br />
            <p>Puede utilizar {{mtMedicamentos.length == 1? 'este' : 'alguno de estos'}} (<b>recomendado</b>), o agregar uno nuevo</p>
        </div>
        <div>
            <button mat-raised-button class="ml-5 mr-5" color="accent" (click)="onNoClick()">Agregar uno nuevo</button>
            <button mat-raised-button class="ml-5 mr-5" color="primary" matStepperNext>Utilizar este</button>
        </div>
    </mat-step>
    <mat-step [stepControl]="cantidadFormGroup">
        <form [formGroup]="cantidadFormGroup">
            <label>Establezca la cantidad de {{highlightedRows[0].nombre}} que desea agregar a la receta:</label>
            <mat-form-field class="ml-5 mr-5 very-short-form-field-30-30">
                <input matInput placeholder="Cantidad" formControlName="cantidad" type="number">
            </mat-form-field>
        </form>
        <div>
            <button mat-raised-button class="ml-5 mr-5" color="accent" matStepperPrevious>Atras</button>
            <button mat-raised-button class="ml-5 mr-5" color="primary" (click)="aceptar()">Aceptar</button>
        </div>
    </mat-step>
</mat-horizontal-stepper>